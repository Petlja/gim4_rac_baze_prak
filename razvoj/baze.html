<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Читање података из табеле</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="pandoc.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Читање података из табеле</h1>
</header>
<p>SQL корисницима омогућава да веома једноставно из базе података извлаче оне податке који су им потребни. То се ради постављањем <strong>упита</strong>. Основну врсту упита чине тзв. упити <code>SELECT</code> који служе да се из базе прочитају жељени подаци. Постоје и друге врсте упита. Упити <code>INSERT</code> служе да се у базу упишу нови подаци, упити <code>DELETE</code> да се из базе обришу неки подаци, а упити <code>UPDATE</code> да се неки подаци у бази ажурирају (измене). Упитима се могу и креирати и брисати табеле, подешавати различита ограничења и слично. У наставку ћемо се бавити упитима <code>SELECT</code>, док ћемо остале врсте упита обрадити касније.</p>
<p>Сваки, па и најједноставнији упит <code>SELECT</code> мора да садржи следеће елементе:</p>
<pre class=""><code>SELECT kolone
FROM tabele;</code></pre>
<p>Овим се систему налаже да нам из наведене табеле (или више табела) издвоји све податке који су дати у наведеним колонама. Језик није осетљив на разлику између великих и малих слова (могуће је писати и <code>select</code> и <code>from</code>), али ћемо ми у складу са устаљеном праксом, у наставку све кључне речи писати великим словима. Све белине у упиту се занемарују, па самим тим није битно да ли се упит пише у једном или више редова. Прегледности ради, ми ћемо све упите писати у више редова.</p>
<p>За почетак ћемо увек читати податке само из једне табеле. Најједноставнији случај је онај у коме се жели читање свих података из једне табеле. Тада се уместо имена свих колона може навести само симбол <code>*</code>. Размотримо следећи пример.</p>
<div class="question">
<p>Приказати све податке о ученицима који су уписани у бази.</p>
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>Милица</td>
<td>Јовановић</td>
<td>ж</td>
<td>2007-04-03</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
<td>ж</td>
<td>2007-12-14</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Овај упит може да се прочита као <em>прочитај све врсте из табеле ученика</em>. Он је еквивалентан следећем, али је, наравно, много једноставнији.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, ime, prezime, pol, datum_rodjenja, razred, odeljenje</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>Милица</td>
<td>Јовановић</td>
<td>ж</td>
<td>2007-04-03</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
<td>ж</td>
<td>2007-12-14</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<h1 id="пројекција">Пројекција</h1>
<p>Наравно, могуће је да издвојимо и само податке из неких колона.</p>
<div class="question">
<p>Приказати имена и презимена свих ученика.</p>
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ime, prezime <span class="kw">FROM</span> ucenik;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>ime</th>
<th>prezime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Петар</td>
<td>Петровић</td>
</tr>
<tr class="even">
<td>Милица</td>
<td>Јовановић</td>
</tr>
<tr class="odd">
<td>Лидија</td>
<td>Петровић</td>
</tr>
<tr class="even">
<td>Петар</td>
<td>Миловановић</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Овај упит може да се прочита као <em>прочитај имена и презимена свих врста из табеле ученика</em>.</p>
<p>У теорији база података операција којом се издвајају само неке колоне из табеле назива се <strong>пројекција</strong>.</p>
<div class="question">
<p>Приказати идентификаторе и називе предмета и разреде у којима се ти предмети предају.</p>
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, naziv, razred <span class="kw">FROM</span> predmet;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>naziv</th>
<th>razred</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Математика</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>Српски језик</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Рачунарство и информатика</td>
<td>1</td>
</tr>
<tr class="even">
<td>4</td>
<td>Математика</td>
<td>2</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<h1 id="рестрикција-where">Рестрикција (WHERE)</h1>
<p>Као што смо могли да одаберемо само податке из неких колона, тако можемо да одаберемо и само податке из неких врста, тј. да извршимо филтрирање података на основу неког задатог услова. Тада је потребно да користимо следећи облик упита <code>SELECT</code>.</p>
<pre class=""><code>SELECT kolone
FROM tabele
WHERE uslov;</code></pre>
<p>Кажемо да је извршена <strong>рестрикција</strong> табеле тј. да смо извршили <strong>филтрирање</strong> података. Пројекцијом, дакле, избацујемо одређене колоне из резултата, а рестрикцијом одређене врсте. У наставку ћемо кроз низ погодних примера илустровати различите облике услова које можемо користити.</p>
<div class="question">
<p>Приказати све податке о ученицима првог разреда.</p>
</div>
<div class="sourceCode" id="cb7"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">=</span> <span class="dv">1</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>Милица</td>
<td>Јовановић</td>
<td>ж</td>
<td>2007-04-03</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
<td>ж</td>
<td>2007-12-14</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>6</td>
<td>Јован</td>
<td>Миленковић</td>
<td>м</td>
<td>2007-04-07</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Овај упит се може протумачити као <em>прочитај све врсте из табеле ученик код који је разред једнак 1</em>. Услов у овом упиту је <code>razred = 1</code>. Приметимо да се у услову могу наводити називи колона табеле, као и константне вредности (у овом случају то је број 1), док се за једнакост користи знак <code>=</code>.</p>
<div class="question">
<p>Приказати све податке о предметима у другом разреду</p>
</div>
<div class="sourceCode" id="cb8"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> predmet</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">=</span> <span class="dv">2</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>naziv</th>
<th>razred</th>
<th>fond</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>4</td>
<td>Математика</td>
<td>2</td>
<td>5</td>
</tr>
<tr class="even">
<td>5</td>
<td>Психологија</td>
<td>2</td>
<td>2</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Физика</td>
<td>2</td>
<td>3</td>
</tr>
</tbody>
</table>
<div class="question">
<p>Приказати све податке о ученицима који се зову <code>Петар</code>.</p>
</div>
<div class="sourceCode" id="cb9"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> ime <span class="op">=</span> <span class="st">&#39;Петар&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>У овом упиту услов је <code>ime = 'Петар'</code>. Приметимо да је овај пут константна вредност <code>'Петар'</code> наведена под једноструким наводницима, јер је у питању ниска карактера. Исти ефекат се може добити и ако се употребе двоструки наводници.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> ime <span class="op">=</span> <span class="ot">&quot;Петар&quot;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
</tbody>
</table>
<div class="question">
<p>Приказати све оцене добијене на писменим задацима.</p>
</div>
<div class="sourceCode" id="cb11"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ocena</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> vrsta <span class="op">=</span> <span class="st">&#39;писмени задатак&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>id_predmet</th>
<th>id_ucenik</th>
<th>ocena</th>
<th>datum</th>
<th>vrsta</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>1</td>
<td>5</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="even">
<td>2</td>
<td>1</td>
<td>2</td>
<td>4</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="odd">
<td>3</td>
<td>1</td>
<td>3</td>
<td>2</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="even">
<td>7</td>
<td>1</td>
<td>6</td>
<td>3</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<h2 id="логички-оператори-and-or-not">Логички оператори (AND, OR, NOT)</h2>
<p>Више логичких услова могуће је повезати уобичајеним логичким операторима:</p>
<ul>
<li>Оператор <code>AND</code> означава конјункцију тј. логичко <em>и</em>.</li>
<li>Оператор <code>OR</code> означава конјункцију тј. логичко <em>или</em>.</li>
<li>Оператор <code>NOT</code> означава негацију тј. логичко <em>не</em>.</li>
</ul>
<p>Прикажимо њихову употребу на неколико примера упита.</p>
<div class="question">
<p>Приказати све податке о ученицима одељења I2 (првог два).</p>
</div>
<div class="sourceCode" id="cb12"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">=</span> <span class="dv">1</span> <span class="kw">AND</span> odeljenje <span class="op">=</span> <span class="dv">2</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>6</td>
<td>Јован</td>
<td>Миленковић</td>
<td>м</td>
<td>2007-04-07</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="even">
<td>7</td>
<td>Јована</td>
<td>Миленковић</td>
<td>ж</td>
<td>2007-04-07</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>Овај упит можемо протумачити као <em>прочитај све врсте из табеле ученика код којих је разред једнак 1 и одељење једнако 2</em>. Приметимо да се у овом примеру захтева да ученик иде у први разред, као и да иде у друго одељење (пошто се тражи да су испуњени и први и други услов, употребљава се оператор <code>AND</code>).</p>
<div class="question">
<p>Приказати све податке о ученицима који се зову Петар Петровић.</p>
</div>
<p>Нагласимо да је могуће да постоји више ученика који имају исто име и презиме.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> ime <span class="op">=</span> <span class="st">&#39;Петар&#39;</span> <span class="kw">AND</span> prezime <span class="op">=</span> <span class="st">&#39;Петровић&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Структура овог упита је веома слична оном претходном (потребно је да су задовољена оба наведена услова).</p>
<div class="question">
<p>Приказати све податке о ученицима који иду у непарну смену (то су ученици који иду у први и ученици који иду у трећи разред).</p>
</div>
<div class="sourceCode" id="cb14"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">=</span> <span class="dv">1</span> <span class="kw">OR</span> razred <span class="op">=</span> <span class="dv">3</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>Милица</td>
<td>Јовановић</td>
<td>ж</td>
<td>2007-04-03</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
<td>ж</td>
<td>2007-12-14</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>6</td>
<td>Јован</td>
<td>Миленковић</td>
<td>м</td>
<td>2007-04-07</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Овај упит можемо протумачити као <em>прочитај све врсте из табеле ученика код којих је разред једнак 1 или је разред једнак 3</em>. У овом примеру је довољно да је задовољен било који од два наведена услова (подаци о ученику се приказују било да иде у први, било да иде у трећи разред), па се користи оператор <code>OR</code>.</p>
<div class="question">
<p>На екскурзију у октобру иду сви ученици, осим ученика првог разреда. Приказати њихова имена и презимена.</p>
</div>
<p>Тражи се списак ученика код којих је разред различит од 1. Задатак можемо решити применом оператора <code>NOT</code>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> <span class="kw">NOT</span> (razred <span class="op">=</span> <span class="dv">1</span>);</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td>5</td>
<td>Ана</td>
<td>Пекић</td>
<td>ж</td>
<td>2007-02-23</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td>8</td>
<td>Гордана</td>
<td>Сарић</td>
<td>ж</td>
<td>2008-01-03</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td>9</td>
<td>Вања</td>
<td>Савић</td>
<td>м</td>
<td>2005-11-13</td>
<td>3</td>
<td>1</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Овај упит можемо протумачити као <em>прочитај све врсте из табеле ученика код којих није разред једнак 1</em>. Ипак, још једноставније решење је да се употреби оператор различито <code>!=</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">!=</span> <span class="dv">1</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td>5</td>
<td>Ана</td>
<td>Пекић</td>
<td>ж</td>
<td>2007-02-23</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td>8</td>
<td>Гордана</td>
<td>Сарић</td>
<td>ж</td>
<td>2008-01-03</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td>9</td>
<td>Вања</td>
<td>Савић</td>
<td>м</td>
<td>2005-11-13</td>
<td>3</td>
<td>1</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<div class="question">
<p>Приказати све податке о ученицима који се презивају <code>Петровић</code>, али се не зову <code>Петар</code>.</p>
</div>
<p>И у овом случају можемо употребити оператор <code>NOT</code>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> <span class="kw">NOT</span> (ime <span class="op">=</span> <span class="st">&#39;Петар&#39;</span>) <span class="kw">AND</span> prezime <span class="op">=</span> <span class="st">&#39;Петровић&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
<td>ж</td>
<td>2007-12-14</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>или оператор различито.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> ime <span class="op">!=</span> <span class="st">&#39;Петар&#39;</span> <span class="kw">AND</span> prezime <span class="op">=</span> <span class="st">&#39;Петровић&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
<td>ж</td>
<td>2007-12-14</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<h2 id="релацијски-оператори-between-in">Релацијски оператори (&lt;, &lt;=, &gt;, &gt;=, BETWEEN, IN)</h2>
<p>До сада смо у свим упитима употребљавали само релацијске операторе једнако (<code>=</code>) и различито (<code>!=</code>). Језик SQL подржава још неке релацијске операторе. Над бројевима (као и на још неким типовима) се могу употребљавати и релацијски оператори поретка <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code> и <code>&gt;=</code>.</p>
<div class="questioclass">
<p>question</p>
<p>Приказати све ученике старијих разреда</p>
</div>
<p>Приказујемо све ученике код којих је разред већи или једнак од 3.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">&gt;=</span> <span class="dv">3</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>9</td>
<td>Вања</td>
<td>Савић</td>
<td>м</td>
<td>2005-11-13</td>
<td>3</td>
<td>1</td>
</tr>
<tr class="even">
<td>10</td>
<td>Николина</td>
<td>Јовановић</td>
<td>ж</td>
<td>2005-08-03</td>
<td>3</td>
<td>1</td>
</tr>
<tr class="odd">
<td>11</td>
<td>Станоје</td>
<td>Бекоња</td>
<td>м</td>
<td>2005-03-04</td>
<td>3</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Овај упит можемо протумачити као <em>прочитај све врсте из табеле ученика из којих је разред већи или једнак 3</em>. Алтернативно, приказујемо све ученике код којих је разред строго већи од два.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">&gt;</span> <span class="dv">2</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>9</td>
<td>Вања</td>
<td>Савић</td>
<td>м</td>
<td>2005-11-13</td>
<td>3</td>
<td>1</td>
</tr>
<tr class="even">
<td>10</td>
<td>Николина</td>
<td>Јовановић</td>
<td>ж</td>
<td>2005-08-03</td>
<td>3</td>
<td>1</td>
</tr>
<tr class="odd">
<td>11</td>
<td>Станоје</td>
<td>Бекоња</td>
<td>м</td>
<td>2005-03-04</td>
<td>3</td>
<td>1</td>
</tr>
</tbody>
</table>
<div class="questioclass">
<p>question</p>
<p>Приказати све податке о предметима у прва два разреда</p>
</div>
<div class="sourceCode" id="cb21"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> predmet</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">&lt;=</span> <span class="dv">2</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>naziv</th>
<th>razred</th>
<th>fond</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Математика</td>
<td>1</td>
<td>5</td>
</tr>
<tr class="even">
<td>2</td>
<td>Српски језик</td>
<td>1</td>
<td>4</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Рачунарство и информатика</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="even">
<td>4</td>
<td>Математика</td>
<td>2</td>
<td>5</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Оператори поретка се могу применити и на другим типовима података (на пример, нискама и датумима).</p>
<div class="question">
<p>Приказати све податке о учениицма који су рођени после првог јуна 2007.</p>
</div>
<div class="sourceCode" id="cb22"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> datum_rodjenja <span class="op">&gt;</span> <span class="st">&#39;2007-06-01&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
<td>ж</td>
<td>2007-12-14</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>8</td>
<td>Гордана</td>
<td>Сарић</td>
<td>ж</td>
<td>2008-01-03</td>
<td>2</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Приметимо да се датум наводи као ниска карактера, између једноструких наводника, у формату <code>gggg-mm-dd</code>.</p>
<div class="question">
<p>Приказати све податке о ученицима који су на време кренули у школу током 2007. године (то су они који су рођени између 1. марта 2007. и 30. априла 2008. године)</p>
</div>
<div class="sourceCode" id="cb23"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> <span class="st">&#39;2007-03-01&#39;</span> <span class="op">&lt;=</span> datum_rodjenja <span class="kw">AND</span> datum_rodjenja <span class="op">&lt;</span> <span class="st">&#39;2008-03-01&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>Милица</td>
<td>Јовановић</td>
<td>ж</td>
<td>2007-04-03</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
<td>ж</td>
<td>2007-12-14</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>6</td>
<td>Јован</td>
<td>Миленковић</td>
<td>м</td>
<td>2007-04-07</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Припадност интервалу се може испитивати и помоћу посебног оператора <code>BETWEEN ... AND ...</code>.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> datum_rodjenja <span class="kw">BETWEEN</span> <span class="st">&#39;2007-01-01&#39;</span> <span class="kw">AND</span> <span class="st">&#39;2007-12-31&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>Милица</td>
<td>Јовановић</td>
<td>ж</td>
<td>2007-04-03</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
<td>ж</td>
<td>2007-12-14</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>5</td>
<td>Ана</td>
<td>Пекић</td>
<td>ж</td>
<td>2007-02-23</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<div class="question">
<p>Приказати податке о свим регулисаним изостанцима на првом часу добијеним у 2021. години.</p>
</div>
<div class="sourceCode" id="cb25"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> izostanak</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> datum <span class="kw">BETWEEN</span> <span class="st">&#39;2021-01-01&#39;</span> <span class="kw">AND</span> <span class="st">&#39;2021-12-01&#39;</span> <span class="kw">AND</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>      status <span class="op">!=</span> <span class="st">&#39;нерегулисан&#39;</span> <span class="kw">AND</span> cas <span class="op">=</span> <span class="dv">1</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>id_ucenik</th>
<th>datum</th>
<th>cas</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>2021-05-14</td>
<td>1</td>
<td>оправдан</td>
</tr>
<tr class="even">
<td>5</td>
<td>6</td>
<td>2021-06-01</td>
<td>1</td>
<td>неоправдан</td>
</tr>
<tr class="odd">
<td>7</td>
<td>8</td>
<td>2021-06-01</td>
<td>1</td>
<td>оправдан</td>
</tr>
</tbody>
</table>
<div class="question">
<p>Приказати све ученике који су у дневнику одељења I1 пре Петровића</p>
</div>
<div class="sourceCode" id="cb26"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">=</span> <span class="dv">1</span> <span class="kw">AND</span> odeljenje <span class="op">=</span> <span class="dv">1</span> <span class="kw">AND</span> prezime <span class="op">&lt;</span> <span class="st">&#39;Петровић&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2</td>
<td>Милица</td>
<td>Јовановић</td>
<td>ж</td>
<td>2007-04-03</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>У овом упиту смо презиме упоредили са Петровић, помоћу оператора <code>&lt;</code> и тада се поређење врши по азбучном редоследу (каже се, лексикографски).</p>
<p>Још један често коришћен оператор који се примењује над текстуалним подацима (нискама) је оператор <code>LIKE</code> којим се може наметнути облик (шаблон) ниске који желимо да издвојимо (или изоставимо) из резултата.</p>
<div class="question">
<p>Приказати све ученике чије презиме почиње на слово <code>П</code>.</p>
</div>
<div class="sourceCode" id="cb27"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> prezime <span class="kw">LIKE</span> <span class="st">&#39;П%&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
<td>ж</td>
<td>2007-12-14</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Ана</td>
<td>Пекић</td>
<td>ж</td>
<td>2007-02-23</td>
<td>2</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Шаблон презимена која се траже је описан у облику <code>'П%'</code>, што значи да она почињу словом <span class="title-ref">П</span> након чега иде произвољан низ карактера (карактер <code>%</code> у склопу шаблона означава било какав низ карактера, док карактер <code>_</code> означава било који карактер).</p>
<div class="question">
<p>Приказати све ученике чији су иницијали <code>ПП</code>.</p>
</div>
<div class="sourceCode" id="cb28"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> ime <span class="kw">LIKE</span> <span class="st">&#39;П%&#39;</span> <span class="kw">AND</span> prezime <span class="kw">LIKE</span> <span class="st">&#39;П%&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<div class="question">
<p>Приказати имена и презимена ученика чије се презиме не завршава на <code>ић</code>.</p>
</div>
<div class="sourceCode" id="cb29"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ime, prezime</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> <span class="kw">NOT</span> (prezime <span class="kw">LIKE</span> <span class="st">&#39;%ић&#39;</span>);</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>ime</th>
<th>prezime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Станоје</td>
<td>Бекоња</td>
</tr>
</tbody>
</table>
<p>У овом примеру је употребљен оператор <code>NOT</code> да би се приказали само они ученици чије се презиме НЕ уклапа у дати шаблон. Шаблон <code>'%ић'</code> означава произвољан низ карактера иза којих иде ниска <code>ић</code>.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ime, prezime</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> <span class="kw">NOT</span> (prezime <span class="kw">LIKE</span> <span class="st">&#39;%ић&#39;</span>);</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>ime</th>
<th>prezime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Станоје</td>
<td>Бекоња</td>
</tr>
</tbody>
</table>
<p>Још један користан оператор може бити оператор <code>IN</code> којим се проверава да ли вредност припада неком датом скупу елемената. Прикажимо његову употребу на следећем примеру.</p>
<div class="question">
<p>Издвојити податке о свим предметима који се зову <code>Математика</code>, <code>Физика</code> или <code>Рачунарство и информатика</code>.</p>
</div>
<div class="sourceCode" id="cb31"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> predmet</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> naziv <span class="kw">IN</span> (<span class="st">&#39;Математика&#39;</span>, <span class="st">&#39;Физика&#39;</span>, <span class="st">&#39;Рачунарство и информатика&#39;</span>)</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>naziv</th>
<th>razred</th>
<th>fond</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Математика</td>
<td>1</td>
<td>5</td>
</tr>
<tr class="even">
<td>3</td>
<td>Рачунарство и информатика</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="odd">
<td>4</td>
<td>Математика</td>
<td>2</td>
<td>5</td>
</tr>
<tr class="even">
<td>6</td>
<td>Физика</td>
<td>1</td>
<td>3</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<h1 id="изрази-и-функције">Изрази и функције</h1>
<p>Након <code>SELECT</code> се најчешће наводе само називи колона, међутим, могуће је употребити и сложеније изразе који у себи укључују и вредности прочитане из одговарајућих колона. Тиме заправо <strong>пресликавамо</strong> вредности прочитане из колона табела применом одговарајућих функција. Илуструјмо ово кроз неколико примера.</p>
<div class="question">
<p>Приказати годишњи фонд часова за сваки предмет (претпоставља се да школска година има 37 радних недеља).</p>
</div>
<div class="sourceCode" id="cb32"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> naziv, razred, <span class="dv">37</span> <span class="op">*</span> fond</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> predmet;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>naziv</th>
<th>razred</th>
<th>37 * fond</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Математика</td>
<td>1</td>
<td>185</td>
</tr>
<tr class="even">
<td>Српски језик</td>
<td>1</td>
<td>148</td>
</tr>
<tr class="odd">
<td>Рачунарство и информатика</td>
<td>1</td>
<td>74</td>
</tr>
<tr class="even">
<td>Математика</td>
<td>2</td>
<td>185</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Уместо назива колоне <code>fond</code> наведен је израз <code>37 * fond</code> који подразумева да се вредност прочитана из колоне фонд помножи са 37.</p>
<p>Приметимо да колона са годишњим фондом нема неко илустративно име. То можемо променити коришћењем тзв. <strong>алијаса</strong> тако што ћемо колони променити име коришћењем кључне речи <code>AS</code>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> naziv, razred, <span class="dv">37</span> <span class="op">*</span> fond <span class="kw">AS</span> godisnji_fond</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> predmet;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>naziv</th>
<th>razred</th>
<th>godisnji_fond</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Математика</td>
<td>1</td>
<td>185</td>
</tr>
<tr class="even">
<td>Српски језик</td>
<td>1</td>
<td>148</td>
</tr>
<tr class="odd">
<td>Рачунарство и информатика</td>
<td>1</td>
<td>74</td>
</tr>
<tr class="even">
<td>Математика</td>
<td>2</td>
<td>185</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Ниске се могу надовезати оператором <code>||</code>.</p>
<div class="question">
<p>Направити јединствену колону која садржи пуно име и презиме сваког ученика.</p>
</div>
<div class="sourceCode" id="cb34"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, ime <span class="op">||</span> <span class="st">&#39; &#39;</span> <span class="op">||</span> prezime <span class="kw">AS</span> ime_i_prezime</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime_i_prezime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар Петровић</td>
</tr>
<tr class="even">
<td>2</td>
<td>Милица Јовановић</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Лидија Петровић</td>
</tr>
<tr class="even">
<td>4</td>
<td>Петар Миловановић</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Напоменимо да се у неким другим системима за управљање базама података за надовезивање ниски користи функција <code>CONCAT</code>.</p>
<div class="question">
<p>Направити преглед регулисаних и нерегулисаних изостанака, тако што се уз идентификатор сваког изостанка прикаже да ли је нерегулисан или регулисан (било да је оправдан или неоправдан).</p>
</div>
<p>Задатак ћемо решити употребом гранања. Основни облик гранања у језику SQL је израз <code>CASE</code>. Његова основна синтакса је облика:</p>
<pre class=""><code>CASE
   WHEN uslov1 THEN vrednost1
   WHEN uslov2 THEN vrednost2
   ...
   WHEN uslovk THEN vrednostk
   ELSE vrednost
END</code></pre>
<p>Врши се провера испуњености једног по једног услова и ако је неки од њих испуњен, вредност израза <code>CASE</code> је вредност која је придружена том услову. У супротном је вредност израза <code>CASE</code> једнака вредности која је наведена уз <code>ELSE</code>. У нашем примеру, гранање можемо постићи на следећи начин:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, <span class="cf">CASE</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>              <span class="cf">WHEN</span> status <span class="op">=</span> <span class="st">&#39;нерегулисан&#39;</span> <span class="cf">THEN</span> <span class="st">&#39;нерегулисан&#39;</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>              <span class="cf">ELSE</span> <span class="st">&#39;регулисан&#39;</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>           <span class="cf">END</span> <span class="kw">AS</span> status</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> izostanak;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>регулисан</td>
</tr>
<tr class="even">
<td>2</td>
<td>регулисан</td>
</tr>
<tr class="odd">
<td>3</td>
<td>нерегулисан</td>
</tr>
<tr class="even">
<td>4</td>
<td>нерегулисан</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Неки системи за управљање базама података подржавају и функцију облика <code>IF(uslov, vrednost_tacno, vrednost_netacno)</code>. Вредност таквог израза једнака је вредности <code>vrednost_tacno</code> ако je услов испуњен тј. вредности <code>vrednost_netacno</code> ако услов није испуњен. У Sqlite ова функција се назива <code>IIF</code>, али пошто постоји само у неким новијим верзијама, нећемо је користити.</p>
<p>Илуструјмо употребу <code>CASE</code> израза још једним примером.</p>
<div class="question">
<p>Уз сваку оцену из табеле оцена приказати и њен текстуални опис (недовољан, довољан, добар, врлодобар, одличан).</p>
</div>
<div class="sourceCode" id="cb37"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, ocena, <span class="cf">CASE</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">WHEN</span> ocena <span class="op">=</span> <span class="dv">1</span> <span class="cf">THEN</span> <span class="st">&#39;недовољан&#39;</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">WHEN</span> ocena <span class="op">=</span> <span class="dv">2</span> <span class="cf">THEN</span> <span class="st">&#39;довољан&#39;</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">WHEN</span> ocena <span class="op">=</span> <span class="dv">3</span> <span class="cf">THEN</span> <span class="st">&#39;добар&#39;</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">WHEN</span> ocena <span class="op">=</span> <span class="dv">4</span> <span class="cf">THEN</span> <span class="st">&#39;врлодобар&#39;</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">WHEN</span> ocena <span class="op">=</span> <span class="dv">5</span> <span class="cf">THEN</span> <span class="st">&#39;одличан&#39;</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>                  <span class="cf">END</span> <span class="kw">AS</span> opis_ocene</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ocena;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ocena</th>
<th>opis_ocene</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>5</td>
<td>одличан</td>
</tr>
<tr class="even">
<td>2</td>
<td>4</td>
<td>врлодобар</td>
</tr>
<tr class="odd">
<td>3</td>
<td>2</td>
<td>довољан</td>
</tr>
<tr class="even">
<td>4</td>
<td>5</td>
<td>одличан</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>SQL подржава велики број библиотечких функција које су обично детаљно описане у документацији одабраног система за управљање базама података. Њихов детаљан опис превазилази домет овог уџбеника.</p>
<h1 id="сортирање-order-by">Сортирање (ORDER BY)</h1>
<p>Често се јавља потреба да податке прикажемо у сортираном редоследу. За то је упит <code>SELECT</code> могуће проширити клаузулом <code>ORDER BY</code> након које се наводи једна (или више колона) на основу којих се врши сортирање врста резултата.</p>
<div class="question">
<p>Приказати имена, презимена и датуме рођења свих ученика одељења првог један, уређене неопадајуће по датуму рођења (од најстаријих до најмлађих ђака).</p>
</div>
<div class="sourceCode" id="cb38"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ime, prezime, datum_rodjenja</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">=</span> <span class="dv">1</span> <span class="kw">AND</span> odeljenje <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> datum_rodjenja;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>ime</th>
<th>prezime</th>
<th>datum_rodjenja</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Милица</td>
<td>Јовановић</td>
<td>2007-04-03</td>
</tr>
<tr class="even">
<td>Петар</td>
<td>Петровић</td>
<td>2007-07-01</td>
</tr>
<tr class="odd">
<td>Лидија</td>
<td>Петровић</td>
<td>2007-12-14</td>
</tr>
</tbody>
</table>
<p>Овај упит можемо протумачити као <em>прочитај име, презиме и датум рођења из сваке врсте из табеле ученика за које је разред једнак 1 и одељење једнако 1, сортирајући резултујуће врсте неопадајуће у односу на датум рођења</em>.</p>
<p>Ако се жели обратан редослед сортирања (нерастући), тада се након имена колоне може навести <code>DESC</code>. Могуће је навести и <code>ASC</code> чиме се наглашава да је редослед неопадајући, међутим, пошто је тај редослед подразумеван, ово се често изоставља.</p>
<div class="question">
<p>Приказати имена, презимена и датуме рођења свих ученика одељења првог један, уређене нерастући по датуму рођења (од најмлађих до најстаријих ђака).</p>
</div>
<div class="sourceCode" id="cb39"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ime, prezime, datum_rodjenja</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">=</span> <span class="dv">1</span> <span class="kw">AND</span> odeljenje <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> datum_rodjenja <span class="kw">DESC</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>ime</th>
<th>prezime</th>
<th>datum_rodjenja</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Лидија</td>
<td>Петровић</td>
<td>2007-12-14</td>
</tr>
<tr class="even">
<td>Петар</td>
<td>Петровић</td>
<td>2007-07-01</td>
</tr>
<tr class="odd">
<td>Милица</td>
<td>Јовановић</td>
<td>2007-04-03</td>
</tr>
</tbody>
</table>
<p>Ако је у клаузули <code>ORDER BY</code> наведено више колона, тада се поређење врши прво по првој колони, ако су вредности у првој колони једнаке, поређење се врши по другој колони, ако су вредности и у другој колони једнаке, поређење се врши по трећој колони итд.</p>
<div class="question">
<p>Приказати све податке о ученицима у азбучном редоследу презимена и имена.</p>
</div>
<div class="sourceCode" id="cb40"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> prezime, ime</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> prezime <span class="kw">ASC</span>, ime <span class="kw">ASC</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>prezime</th>
<th>ime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Јовановић</td>
<td>Милица</td>
</tr>
<tr class="even">
<td>Јовановић</td>
<td>Николина</td>
</tr>
<tr class="odd">
<td>Бекоња</td>
<td>Станоје</td>
</tr>
<tr class="even">
<td>Миленковић</td>
<td>Јован</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Пошто су у клаузули <code>ORDER BY</code> наведене две колоне <code>prezime</code>, па <code>ime</code>, сортирање се прво врши по презименима, а ако су презимена једнака, онда се врши по именима. <code>ASC</code> означава да се сортирање обе колоне врши у неопадајућем редоследу (и може се изоставити).</p>
<h1 id="ограничавање-броја-врста-резултата-limit">Ограничавање броја врста резултата (LIMIT)</h1>
<p>Резултат упита често може бити велика табела, која садржи велики број редова. Често желимо да прикажемо само део резултата (на пример, уместо да се у веб-апликацији на једној страници прикажу сви ученици у школи, могуће је поделити приказ тако да се на свакој страници приказује само одређен број ученика). У језику SQL то се може постићи клаузулом <code>LIMIT</code>. Ако се користи у облику <code>LIMIT n</code> тада се из резултата издваја само првих <code>n</code> врста (ако је <code>n</code> веће од укупног броја врста резултата упита, не пријављује се грешка, већ се приказује цео резултат упита).</p>
<div class="question">
<p>Приказати податке о првих 5 ученика из табеле ученика.</p>
</div>
<div class="sourceCode" id="cb41"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">5</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>Милица</td>
<td>Јовановић</td>
<td>ж</td>
<td>2007-04-03</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
<td>ж</td>
<td>2007-12-14</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Овај упит можемо протумачити као <em>прочитај највише 5 врста из табеле ученика</em>.</p>
<p>Ако се користи у облику <code>LIMIT start, n</code> тада се приказује <code>n</code> врста, али не са почетка резултујуће табеле, него од позиције <code>start</code>.</p>
<div class="question">
<p>Приказати податке о наредних 5 ученика из табеле ученика.</p>
</div>
<div class="sourceCode" id="cb42"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">5</span>, <span class="dv">5</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>6</td>
<td>Јован</td>
<td>Миленковић</td>
<td>м</td>
<td>2007-04-07</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="even">
<td>7</td>
<td>Јована</td>
<td>Миленковић</td>
<td>ж</td>
<td>2007-04-07</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="odd">
<td>8</td>
<td>Гордана</td>
<td>Сарић</td>
<td>ж</td>
<td>2008-01-03</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td>9</td>
<td>Вања</td>
<td>Савић</td>
<td>м</td>
<td>2005-11-13</td>
<td>3</td>
<td>1</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Овај упит можемо протумачити као <em>прочитај највише 5 врста из табеле ученика, прескачући првих 5 врста</em>.</p>
<p>Ограничавање броја врста резултата се често користи у комбинаcији са сортирањем. На тај начин је могуће пронаћи врсте које садрже најмањих или највећих <code>n</code> вредности колоне по којој се сортира.</p>
<div class="question">
<p>Приказати податке о пет најмлађих ученика у школи.</p>
</div>
<div class="sourceCode" id="cb43"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> datum_rodjenja <span class="kw">DESC</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">5</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>8</td>
<td>Гордана</td>
<td>Сарић</td>
<td>ж</td>
<td>2008-01-03</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
<td>ж</td>
<td>2007-12-14</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>6</td>
<td>Јован</td>
<td>Миленковић</td>
<td>м</td>
<td>2007-04-07</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Клаузулом <code>ORDER BY datum_rodjenja DESC</code> смо захтевали да се све врсте уреде по датуму рођења, и то опадајући (тако да највећи, тј. последњи датум рођења буде први), а након тога смо клаузулом <code>LIMIT 5</code> издвојили само првих 5 врста резултата.</p>
<h1 id="елиминисање-дупликата-distinct">Елиминисање дупликата (DISTINCT)</h1>
<p>У неким случајевима желимо да елиминишемо дупликате из резултата тј. желимо да добијемо само јединствене вредности унутар неке колоне. То се постиже навођењем <code>DISTINCT</code> уз име колоне.</p>
<div class="question">
<p>Приказати сва различита имена ученика (без понављања).</p>
</div>
<div class="sourceCode" id="cb44"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> ime</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>ime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Петар</td>
</tr>
<tr class="even">
<td>Милица</td>
</tr>
<tr class="odd">
<td>Лидија</td>
</tr>
<tr class="even">
<td>Ана</td>
</tr>
<tr class="odd">
<td>...</td>
</tr>
</tbody>
</table>
<p>Ако бисмо желели да имена буду сортирана по азбучном реду, додали бисмо клаузулу <code>ORDER BY</code>.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> ime</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> ime;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>ime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Јован</td>
</tr>
<tr class="even">
<td>Јована</td>
</tr>
<tr class="odd">
<td>Ана</td>
</tr>
<tr class="even">
<td>Вања</td>
</tr>
<tr class="odd">
<td>...</td>
</tr>
</tbody>
</table>
<div class="question">
<p>Приказати све различите датуме у којима ученик са идентификатором 1 има изостанке.</p>
</div>
<div class="sourceCode" id="cb46"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> datum</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> izostanak</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> id_ucenik <span class="op">=</span> <span class="dv">1</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>datum</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2021-05-14</td>
</tr>
</tbody>
</table>
<div class="question">
<p>Приказати сва различита женска имена ученица школе.</p>
</div>
<div class="sourceCode" id="cb47"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> ime</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> pol <span class="op">=</span> <span class="st">&#39;ж&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>ime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Милица</td>
</tr>
<tr class="even">
<td>Лидија</td>
</tr>
<tr class="odd">
<td>Ана</td>
</tr>
<tr class="even">
<td>Јована</td>
</tr>
<tr class="odd">
<td>...</td>
</tr>
</tbody>
</table>
<h1 id="агрегатне-функције-sum-avg-min-max-count">Агрегатне функције (SUM, AVG, MIN, MAX, COUNT)</h1>
<p>У применама је јако често израчунати одређене статистике серија података. То може бити збир, производ, просек тј. аритметичка средина, најмања или највећа вредност и слично. Приликом израчунавања ових статистика од серије елемената (тј. од свих елемената једне колоне табеле) гради се један резултат тј. сви подаци се агрегирају у јединствен резултат. Зато се ове функције називају <strong>агрегатне функције</strong>.</p>
<p>Илуструјмо их све на неколико примера.</p>
<p>Збир елемената неке колоне се може добити агрегатном функцијом <code>SUM</code>.</p>
<div class="question">
<p>Приказати укупан фонд часова свих предмета.</p>
</div>
<div class="sourceCode" id="cb48"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">SUM</span>(fond)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> predmet;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>SUM(fond)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>24</td>
</tr>
</tbody>
</table>
<p>Овај упит можемо протумачити као <em>прочитај збир свих вредности у колони фонд из свих врста из табеле предмета</em>.</p>
<p>Примећујемо да за разлику од ранијих упита када је заглавље табеле садржало имена колона које су наведене након <code>SELECT</code>, овај пут колона резултата нема неко илустративно име, већ само назив примењене агрегатне функције. То је могуће променити навођењем тзв. <strong>алијаса</strong> након кључне речи <code>AS</code>.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">SUM</span>(fond) <span class="kw">AS</span> ukupan_fond</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> predmet;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>ukupan_fond</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>24</td>
</tr>
</tbody>
</table>
<p>Агрегатне функције се веома често примењују након филтрирања (рестрикције). За разлику од претходног, за наредним упитом се сасвим природно може јавити потреба када се рачуна оптерећење ученика.</p>
<div class="question">
<p>Приказати укупан фонд часова предмета из првог разреда.</p>
</div>
<div class="sourceCode" id="cb50"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">SUM</span>(fond)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> predmet</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">=</span> <span class="dv">1</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>SUM(fond)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>14</td>
</tr>
</tbody>
</table>
<p>Овај упит можемо протумачити као <em>прочитај збир свих вредности у колони фонд из свих врста из табеле предмета код којих је разред једнак 1</em>.</p>
<p>Просек (аритметичку средину) елемената неке колоне се може добити агрегатном функцијом <code>AVG</code>.</p>
<div class="question">
<p>Приказати просечну оцену из предмета са идентификатором 1</p>
</div>
<div class="sourceCode" id="cb51"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">AVG</span>(ocena)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ocena</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> id_predmet <span class="op">=</span> <span class="dv">1</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>AVG(ocena)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>3.6</td>
</tr>
</tbody>
</table>
<p>Најмању вредност у некој колони можемо одредити функцијом <code>MIN</code>, а највећу функцијом <code>MAX</code>. Ове функције се могу применити и на бројеве и на ниске и на датуме.</p>
<div class="question">
<p>Приказати најнижу оцену на писменом задатку из математике одржаном 18. маја 2021.</p>
</div>
<div class="sourceCode" id="cb52"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">MIN</span>(ocena)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ocena</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> id_predmet <span class="op">=</span> <span class="dv">1</span> <span class="kw">AND</span> datum <span class="op">=</span> <span class="st">&#39;2021-05-18&#39;</span> <span class="kw">AND</span> vrsta <span class="op">=</span> <span class="st">&#39;писмени задатак&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>MIN(ocena)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2</td>
</tr>
</tbody>
</table>
<div class="question">
<p>Приказати датум када је у дневник уписана последња оцена из српског језика за први разред</p>
</div>
<div class="sourceCode" id="cb53"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">MAX</span>(datum)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ocena</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> id_predmet <span class="op">=</span> <span class="dv">2</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>MAX(datum)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>None</td>
</tr>
</tbody>
</table>
<p>Често желимо да одредимо број елемената неке серије. У случају упита читања података из база то се најчешће своди на то да се изброје врсте у резултату упита. За то се користи агрегатна функција <code>COUNT</code>. Пошто је број врста у резултату једнак броју елемената сваке појединачне колоне, обично се уместо назива колоне, као аргумент ове функције просто наводи звездица <code>*</code>.</p>
<div class="question">
<p>Приказати број ученика у табели ученика.</p>
</div>
<div class="sourceCode" id="cb54"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(<span class="op">*</span>)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>COUNT(*)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>11</td>
</tr>
</tbody>
</table>
<p>Овај упит можемо протумачимо као <em>прочитај број свих врста из табеле ученика</em>.</p>
<p>Исти резултат би се добио ако би тражило пребројавање елемената било које конкретне колоне. На пример.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(ime)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>COUNT(ime)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>11</td>
</tr>
</tbody>
</table>
<p>И пребројавање често иде у комбинацији са филтрирањем (рестрикцијом).</p>
<div class="question">
<p>Приказати укупан број предмета у првом разреду</p>
</div>
<div class="sourceCode" id="cb56"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(<span class="op">*</span>)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> predmet</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">=</span> <span class="dv">1</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>COUNT(*)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>4</td>
</tr>
</tbody>
</table>
<h1 id="груписање-и-израчунавање-статистика-појединачних-група-group-by">Груписање и израчунавање статистика појединачних група (GROUP BY)</h1>
<p>У претходном поглављу смо видели како се агрегатне функције могу применити на филтриране податке (податке који задовољавају неки услов). Видели смо, на пример, како можемо избројати предмете у првом разреду или како можемо одредити просек свих датих оцена из неког појединачног предмета. Често се јавља потреба да се иста врста упита понови за сваку вредност у некој колони. На пример, сасвим је природно пожелети да се одреди број предмета у сваком од четири разреда или да се израчуна просечна оцена из сваког појединачног предмета. Уместо да се прави више сличних упита, овакве статистике је могуће израчунати коришћењем <strong>груписања и израчунавања статистика по групама</strong>. У језику SQL се за то користи клаузула <code>GROUP BY</code>.</p>
<div class="question">
<p>Приказати број предмета у сваком од разреда.</p>
</div>
<div class="sourceCode" id="cb57"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> razred, <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">as</span> broj_predmeta</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> predmet</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> razred;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>razred</th>
<th>broj_predmeta</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>4</td>
</tr>
<tr class="even">
<td>2</td>
<td>3</td>
</tr>
</tbody>
</table>
<p>Приликом извршавања овог упита скуп свих врста у табели предмета (свака од њих одговара једном предмету) се подели у четири групе које одговарају сваком од четири разреда, а затим се агрегатна функција <code>COUNT</code> примени засебно на сваку од те четири групе.</p>
<div class="question">
<p>Приказати најмању оцену из сваког предмета.</p>
</div>
<div class="sourceCode" id="cb58"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> id_predmet, <span class="fu">MIN</span>(ocena) <span class="kw">as</span> min_ocena</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ocena</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> id_predmet;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id_predmet</th>
<th>min_ocena</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>2</td>
</tr>
<tr class="even">
<td>3</td>
<td>4</td>
</tr>
<tr class="odd">
<td>6</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Груписање је могуће извршити и над више колона.</p>
<div class="question">
<p>Приказати број ученика у сваком од одељења.</p>
</div>
<div class="sourceCode" id="cb59"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> razred, odeljenje, <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">as</span> broj_ucenika</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> razred, odeljenje;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>razred</th>
<th>odeljenje</th>
<th>broj_ucenika</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>3</td>
</tr>
<tr class="even">
<td>1</td>
<td>2</td>
<td>2</td>
</tr>
<tr class="odd">
<td>2</td>
<td>1</td>
<td>3</td>
</tr>
<tr class="even">
<td>3</td>
<td>1</td>
<td>3</td>
</tr>
</tbody>
</table>
<p>У овом случају се за сваки пар вредности <code>(razred, odeljenje)</code> креира посебна група врста и затим се одреди број елемената (врста) у свакој од тих група.</p>
<p>Груписање и израчунавање статистика по групама је могуће вршити и након филтрирања (тј. рестрикције).</p>
<div class="question">
<p>Приказати број девојчица у сваком разреду.</p>
</div>
<div class="sourceCode" id="cb60"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> razred, <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">as</span> broj_devojcica</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> pol <span class="op">=</span> <span class="st">&#39;ж&#39;</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> razred;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>razred</th>
<th>broj_devojcica</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>3</td>
</tr>
<tr class="even">
<td>2</td>
<td>2</td>
</tr>
<tr class="odd">
<td>3</td>
<td>1</td>
</tr>
</tbody>
</table>
<h2 id="рестрикција-након-груписања-having">Рестрикција након груписања (HAVING)</h2>
<p>Када се израчунају статистике по групама, можемо пожелети да поново филтрирамо податке тј. да одаберемо које групе желимо да буду приказане на основу вредности израчунатих статистика. На пример, можемо израчунати број ученика у сваком одељењу и затим приказати само она одељења која имају више од 30 ученика. За то се може користити клаузула <code>HAVING</code>. Дакле, клаузулу <code>WHERE</code> користимо да бисмо извршили филтрирање података пре груписања, а <code>HAVING</code> након груписања и израчунавања агрегатних статистика.</p>
<div class="question">
<p>Приказати одељења у којима има више од 30 ученика.</p>
</div>
<div class="sourceCode" id="cb61"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> razred, odeljenje, <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">as</span> broj_ucenika</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> razred, odeljenje</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="kw">HAVING</span> broj_ucenika <span class="op">&gt;=</span> <span class="dv">30</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>razred</th>
<th>odeljenje</th>
<th>broj_ucenika</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p>Упит може да садржи двоструко филтрирање (и <code>WHERE</code> и <code>HAVING</code>).</p>
<div class="question">
<p>Приказати одељења у којима има мање од 5 девојчица.</p>
</div>
<div class="sourceCode" id="cb62"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> razred, odeljenje, <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">as</span> broj_devojcica</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> pol <span class="op">=</span> <span class="st">&#39;ж&#39;</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> razred, odeljenje</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="kw">HAVING</span> broj_devojcica <span class="op">&lt;</span> <span class="dv">5</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>razred</th>
<th>odeljenje</th>
<th>broj_devojcica</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="even">
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td>2</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="even">
<td>3</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<h1 id="спајање">Спајање</h1>
<p>Сви досадашњи упити су читали податке искључиво из једне табеле. Са друге стране, организација података у базама је таква да се информације добијају тако што се подаци читају из више табела истовремено. Наиме, већ смо видели да смештање свих података у једну велику табелу доводи до редундантности, неефикасности и повећава могућност настанка грешака.</p>
<div class="question">
<p>Приказати све изостанке на дан 14. 5. 2021.</p>
</div>
<p>Први покушај може бити просто читање свих података из табеле изостанака.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> izostanak</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> datum <span class="op">=</span> <span class="st">&#39;2021-05-14&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>id_ucenik</th>
<th>datum</th>
<th>cas</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>2021-05-14</td>
<td>1</td>
<td>оправдан</td>
</tr>
<tr class="even">
<td>2</td>
<td>1</td>
<td>2021-05-14</td>
<td>2</td>
<td>неоправдан</td>
</tr>
<tr class="odd">
<td>3</td>
<td>4</td>
<td>2021-05-14</td>
<td>1</td>
<td>нерегулисан</td>
</tr>
<tr class="even">
<td>4</td>
<td>4</td>
<td>2021-05-14</td>
<td>2</td>
<td>нерегулисан</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Кључни проблем са овим упитом је то што се не виде имена ученика, већ само њихови идентификатори. Пошто желимо да добијемо што прегледнији резултат, потребно је да извршимо спајање табеле изостанака и табеле ученика и то тако што ћемо за сваки идентификатор ученика који је записан у табели изостанака пронаћи податке о ученику са тим идентификатором (пре свега његово име и презиме). Један начин да се споје подаци из две табеле је да се употреби оператор спајања <code>... JOIN ... ON ...</code>.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> izostanak <span class="kw">JOIN</span> ucenik <span class="kw">ON</span> izostanak.id_ucenik <span class="op">=</span> ucenik.<span class="kw">id</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>id_ucenik</th>
<th>datum</th>
<th>cas</th>
<th>status</th>
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>2021-05-14</td>
<td>1</td>
<td>оправдан</td>
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>1</td>
<td>2021-05-14</td>
<td>2</td>
<td>неоправдан</td>
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>4</td>
<td>2021-05-14</td>
<td>1</td>
<td>нерегулисан</td>
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td>4</td>
<td>4</td>
<td>2021-05-14</td>
<td>2</td>
<td>нерегулисан</td>
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>У овом упиту смо извршили спајање табела изостанака и табеле ученика коришћењем једнакости одговарајућих идентификатора. Резултат ће садржати све врсте које се добијају тако што се узме по једна врста из табеле изостанака и из табеле ученика тако да је вредност колоне <code>id_ucenik</code> у табели изостанака једнака вредности колоне <code>id</code> у табели ученика. На пример, претпоставимо да у табели изостанака постоји врста <code>(2, 1, 2021-05-14, 2, неоправдан)</code>, а у табели ученика постоји врста <code>(1, Петар, Петровић, м, 2007-07-01, 1, 1)</code>. При том је други број у табели изостанака колона <code>id_ucenik</code> (идентификатор ученика који је направио изостанак), док је први број у табели ученик заправо колона <code>id</code> (идентификатор ученика). Пошто се у обе те колоне налази вредност 1 (ради се о истом ученику) у спојеној табели ће постојати врста <code>(2, 1, 2021-05-14, 2, неоправдан, 1, Петар, Петровић, м, 2007-07-01, 1, 1)</code>.</p>
<p>Приметимо да смо у услову спајања <code>ON</code> називе колона оквалификовали називима табела. Што се тиче колоне <code>id</code> то је било неопходно, јер колона <code>id</code> постоји у обе наведене табеле. Са друге стране, колона <code>id_ucenik</code> постоји само у табели изостанака, па је није било неопходно наводити назив табеле уз назив колоне, међутим, експлицитним навођењем имена табеле упит постаје јаснији и прегледнији.</p>
<p>Текст упита се може мало скратити ако се табелама привремено дају нова, краћа имена, навођењем <strong>алијаса</strong>.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> izostanak <span class="kw">AS</span> i</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> ucenik <span class="kw">AS</span> u <span class="kw">ON</span> i.id_ucenik <span class="op">=</span> u.<span class="kw">id</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>id_ucenik</th>
<th>datum</th>
<th>cas</th>
<th>status</th>
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>2021-05-14</td>
<td>1</td>
<td>оправдан</td>
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>1</td>
<td>2021-05-14</td>
<td>2</td>
<td>неоправдан</td>
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>4</td>
<td>2021-05-14</td>
<td>1</td>
<td>нерегулисан</td>
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td>4</td>
<td>4</td>
<td>2021-05-14</td>
<td>2</td>
<td>нерегулисан</td>
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Кључна реч <code>AS</code> се у овом случају може изоставити (<code>FROM izostanak i JOIN ucenik u ON ...</code>).</p>
<p>Спојене табеле се могу филтрирати (коришћењем клаузуле <code>WHERE</code>) и могуће је резултат пројектовати само на оне табеле које нас занимају. Напоменимо да се филтрирање, ефикасности ради, врши пре спајања.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ime, prezime, cas, status</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> izostanak i</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> ucenik u <span class="kw">ON</span> i.id_ucenik <span class="op">=</span> u.<span class="kw">id</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> datum <span class="op">=</span> <span class="st">&#39;2021-05-14&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>ime</th>
<th>prezime</th>
<th>cas</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Петар</td>
<td>Петровић</td>
<td>1</td>
<td>оправдан</td>
</tr>
<tr class="even">
<td>Петар</td>
<td>Петровић</td>
<td>2</td>
<td>неоправдан</td>
</tr>
<tr class="odd">
<td>Петар</td>
<td>Миловановић</td>
<td>1</td>
<td>нерегулисан</td>
</tr>
<tr class="even">
<td>Петар</td>
<td>Миловановић</td>
<td>2</td>
<td>нерегулисан</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Још један начин да се спајање табела изврши је тзв. <strong>имплицитно спајање</strong>. Наиме, ако се након <code>FROM</code> наведе више табела раздвојених зарезима, израчунава се њихов <strong>Декартов производ</strong> тј. свака врста прве табеле се комбинује (надовезује) са сваком врстом друге табеле. На пример,</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> izostanak, ucenik;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>id_ucenik</th>
<th>datum</th>
<th>cas</th>
<th>status</th>
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>2021-05-14</td>
<td>1</td>
<td>оправдан</td>
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>1</td>
<td>1</td>
<td>2021-05-14</td>
<td>1</td>
<td>оправдан</td>
<td>2</td>
<td>Милица</td>
<td>Јовановић</td>
<td>ж</td>
<td>2007-04-03</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>2021-05-14</td>
<td>1</td>
<td>оправдан</td>
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
<td>ж</td>
<td>2007-12-14</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>1</td>
<td>1</td>
<td>2021-05-14</td>
<td>1</td>
<td>оправдан</td>
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Од свих ових врста, нама су релевантне само оне у којима је идентификатор ученика из табеле изостанака једнак идентификатору из табеле ученика и њих можемо издвојити клаузулом <code>WHERE</code>.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> izostanak i, ucenik u</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> i.id_ucenik <span class="op">=</span> u.<span class="kw">id</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>id_ucenik</th>
<th>datum</th>
<th>cas</th>
<th>status</th>
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>2021-05-14</td>
<td>1</td>
<td>оправдан</td>
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>1</td>
<td>2021-05-14</td>
<td>2</td>
<td>неоправдан</td>
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>4</td>
<td>2021-05-14</td>
<td>1</td>
<td>нерегулисан</td>
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td>4</td>
<td>4</td>
<td>2021-05-14</td>
<td>2</td>
<td>нерегулисан</td>
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Наравно, могуће је навести и додатан услов у ком се ограничавамо само на жељени датум.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> izostanak i, ucenik u</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> i.id_ucenik <span class="op">=</span> u.<span class="kw">id</span> <span class="kw">AND</span> datum <span class="op">=</span> <span class="st">&#39;2021-05-14&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>id_ucenik</th>
<th>datum</th>
<th>cas</th>
<th>status</th>
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>2021-05-14</td>
<td>1</td>
<td>оправдан</td>
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>1</td>
<td>2021-05-14</td>
<td>2</td>
<td>неоправдан</td>
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>4</td>
<td>2021-05-14</td>
<td>1</td>
<td>нерегулисан</td>
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td>4</td>
<td>4</td>
<td>2021-05-14</td>
<td>2</td>
<td>нерегулисан</td>
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Ипак, експлицитно спајање је пожељније користити од имплицитног (упити су јаснији, а на неким системима за управање базама података могу бити и ефикаснији).</p>
<div class="question">
<p>Приказати све оцене из математике за први разред.</p>
</div>
<p>Главни проблем приликом реализације овог упита је то што не знамо идентификатор тог предмета. Оцене се налазе у табели оцена, док се идентификатори предмета налазе у табели предмета и једно могуће решење је да се прво изврши спајање те две табеле, да би се затим филтирање могло вршити на основу назива предмета и разреда у ком се предаје (који су нам познати) уместо на основу идентификатора предмета који нам је непознат (претпоставићемо да постоји само један предмет у првом разреду који се зове математика тј. да ако постоји више таквих предмета да ћемо приказивати оцене из свих тих предмета).</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> id_ucenik, ocena, datum, vrsta</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ocena</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> predmet <span class="kw">ON</span> ocena.id_predmet <span class="op">=</span> predmet.<span class="kw">id</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> predmet.naziv <span class="op">=</span> <span class="st">&#39;Математика&#39;</span> <span class="kw">AND</span> predmet.razred <span class="op">=</span> <span class="dv">1</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id_ucenik</th>
<th>ocena</th>
<th>datum</th>
<th>vrsta</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>5</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="even">
<td>2</td>
<td>4</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="odd">
<td>3</td>
<td>2</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="even">
<td>6</td>
<td>3</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Спајање је могуће применити и на више табела.</p>
<div class="question">
<p>Приказати све оцене у читљивом формату (тако да се виде име и презиме ученика и назив предмета)</p>
</div>
<div class="sourceCode" id="cb71"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> p.naziv, u.ime, u.prezime, o.ocena, o.datum, o.vrsta</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ocena o</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> predmet p <span class="kw">ON</span> o.id_predmet <span class="op">=</span> p.<span class="kw">id</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> ucenik u <span class="kw">ON</span> o.id_ucenik <span class="op">=</span> u.<span class="kw">id</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>naziv</th>
<th>ime</th>
<th>prezime</th>
<th>ocena</th>
<th>datum</th>
<th>vrsta</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Математика</td>
<td>Петар</td>
<td>Петровић</td>
<td>5</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="even">
<td>Математика</td>
<td>Милица</td>
<td>Јовановић</td>
<td>4</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="odd">
<td>Математика</td>
<td>Лидија</td>
<td>Петровић</td>
<td>2</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="even">
<td>Физика</td>
<td>Петар</td>
<td>Петровић</td>
<td>5</td>
<td>2021-05-23</td>
<td>контролна вежба</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Наравно, и тада је могуће извршити додатно филтрирање коришћењем клаузуле <code>WHERE</code>.</p>
<div class="question">
<p>Приказати све оцене на писменим задацима из предмета првог разреда у читљивом формату.</p>
</div>
<div class="sourceCode" id="cb72"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> p.naziv, u.ime, u.prezime, o.ocena, o.datum, o.vrsta</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ocena o</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> predmet p <span class="kw">ON</span> o.id_predmet <span class="op">=</span> p.<span class="kw">id</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> ucenik u <span class="kw">ON</span> o.id_ucenik <span class="op">=</span> u.<span class="kw">id</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> p.razred <span class="op">=</span> <span class="dv">1</span> <span class="kw">AND</span> vrsta <span class="op">=</span> <span class="st">&#39;писмени задатак&#39;</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>naziv</th>
<th>ime</th>
<th>prezime</th>
<th>ocena</th>
<th>datum</th>
<th>vrsta</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Математика</td>
<td>Петар</td>
<td>Петровић</td>
<td>5</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="even">
<td>Математика</td>
<td>Милица</td>
<td>Јовановић</td>
<td>4</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="odd">
<td>Математика</td>
<td>Лидија</td>
<td>Петровић</td>
<td>2</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="even">
<td>Математика</td>
<td>Јован</td>
<td>Миленковић</td>
<td>3</td>
<td>2021-05-18</td>
<td>писмени задатак</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Табеле при спајању не морају бити различите -- могуће је спојити табелу саму са собом.</p>
<div class="question">
<p>Приказати све парове близанаца (под близанцима ћемо подразумевати све парове ученика који се исто презивају и имају исти датум рођења).</p>
</div>
<p>Први покушај подразумева само да се табела <code>ucenik</code> споји сама са собом, уз услов да презиме и датум рођења буду једнаки.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> u1.ime <span class="kw">as</span> ime1, u2.ime <span class="kw">as</span> ime2, u1.prezime</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik <span class="kw">as</span> u1</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> ucenik <span class="kw">as</span> u2 <span class="kw">ON</span> u1.datum_rodjenja <span class="op">=</span> u2.datum_rodjenja <span class="kw">AND</span> u1.prezime <span class="op">=</span> u2.prezime;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>ime1</th>
<th>ime2</th>
<th>prezime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Петар</td>
<td>Петар</td>
<td>Петровић</td>
</tr>
<tr class="even">
<td>Милица</td>
<td>Милица</td>
<td>Јовановић</td>
</tr>
<tr class="odd">
<td>Лидија</td>
<td>Лидија</td>
<td>Петровић</td>
</tr>
<tr class="even">
<td>Петар</td>
<td>Петар</td>
<td>Миловановић</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Као што видимо, постоје два проблема са овим приступом. Наиме, сваки ученик има исти датум рођења и презиме као он сам, па се за сваког ученика пријављује да је сам себи близанац. Даље, сваки пар близанаца се пријављује два пута (јер се за првог близанца успешно налази пар, па се затим и за другог близанца успешно налази пар). И један и други проблем се могу решити ако се наметне да су идентификатори унутар пара близанаца различити (тиме се елиминише могућност да је неко сам себи близанац) и уређени у неком редоследу (тиме се елиминише двоструко пријављивање истих парова близанаца).</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> u1.ime <span class="kw">as</span> ime1, u2.ime <span class="kw">as</span> ime2, u1.prezime</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik <span class="kw">as</span> u1</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> ucenik <span class="kw">as</span> u2 <span class="kw">ON</span> u1.datum_rodjenja <span class="op">=</span> u2.datum_rodjenja <span class="kw">AND</span> u1.prezime <span class="op">=</span> u2.prezime</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> u1.<span class="kw">id</span> <span class="op">&lt;</span> u2.<span class="kw">id</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>ime1</th>
<th>ime2</th>
<th>prezime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Јован</td>
<td>Јована</td>
<td>Миленковић</td>
</tr>
</tbody>
</table>
<p><strong>Ко жели да зна више?</strong> У базама података постоји неколико различитих оператора спајања: <code>INNER JOIN</code>, <code>CROSS JOIN</code>, <code>LEFT JOIN</code>, <code>RIGHT JOIN</code>, <code>FULL JOIN</code> који се углавном разликују по томе шта се дешава када у једној од спојених табела не постоји врста која би требало да се споји. Оператор <code>JOIN</code> који смо приказали је заправо оператор <code>INNER JOIN</code> (тзв. унутрашње спајање). То је најчешће коришћена врста спајања, па се стога назнака о којој врсти спајања је реч може изоставити.</p>
<p>Природно је очекивати да се у табели изостанака налазе само они идентификатори ученика за које у табели ученика постоје одговарајући подаци. То је осигурано постављањем <em>страног кључа</em> између колоне <code>id_ucenik</code> у табели изостанака и колоне <code>id</code> у табели ученика. Међутим, није неопходно да за сваког ученика у табели ученика тј. за сваку вредности колоне <code>id</code> у тој табели у табели изостанака не мора да постоји нека врста са том вредношћу у колони <code>id_ucenika</code> (јер је могуће да постоје ученици који немају ниједан изостанак). Размотримо тада следећи задатак.</p>
<div class="question">
<p>Приказати списак свих ученика са њиховим изостанцима.</p>
</div>
<p>Ако бисмо извршили обично (унутрашње) спајање табеле ученика и табеле изостанака, добили бисмо податке само о оним ученицима који имају изостанке.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik u</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> izostanak i <span class="kw">ON</span> u.<span class="kw">id</span> <span class="op">=</span> i.id_ucenik;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
<th>id</th>
<th>id_ucenik</th>
<th>datum</th>
<th>cas</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2021-05-14</td>
<td>1</td>
<td>оправдан</td>
</tr>
<tr class="even">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2021-05-14</td>
<td>2</td>
<td>неоправдан</td>
</tr>
<tr class="odd">
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
<td>3</td>
<td>4</td>
<td>2021-05-14</td>
<td>1</td>
<td>нерегулисан</td>
</tr>
<tr class="even">
<td>4</td>
<td>Петар</td>
<td>Миловановић</td>
<td>м</td>
<td>2006-12-08</td>
<td>2</td>
<td>1</td>
<td>4</td>
<td>4</td>
<td>2021-05-14</td>
<td>2</td>
<td>нерегулисан</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Ако желимо да се прикажу подаци и о ученицима који немају изостанке, потребно је да применимо тзв. лево спољашње спајање које се постиже оператором <code>LEFT OUTER JOIN</code> или скраћено <code>LEFT JOIN</code>.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik u</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">LEFT</span> <span class="kw">JOIN</span> izostanak i <span class="kw">ON</span> u.<span class="kw">id</span> <span class="op">=</span> i.id_ucenik;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
<th>pol</th>
<th>datum_rodjenja</th>
<th>razred</th>
<th>odeljenje</th>
<th>id</th>
<th>id_ucenik</th>
<th>datum</th>
<th>cas</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2021-05-14</td>
<td>1</td>
<td>оправдан</td>
</tr>
<tr class="even">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2021-05-14</td>
<td>2</td>
<td>неоправдан</td>
</tr>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
<td>м</td>
<td>2007-07-01</td>
<td>1</td>
<td>1</td>
<td>6</td>
<td>1</td>
<td>2021-05-14</td>
<td>3</td>
<td>оправдан</td>
</tr>
<tr class="even">
<td>2</td>
<td>Милица</td>
<td>Јовановић</td>
<td>ж</td>
<td>2007-04-03</td>
<td>1</td>
<td>1</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>Код ученика који имају изостанака, за сваки изостанак постоји одговарајућа врста у резултату. Код ученика који немају изостанака у пољима који описују изостанак стоје специјалне <strong>недостајуће вредности</strong> (<code>NULL</code>).</p>
<p>Детаљније изучавање разних врста спајања превазилази градиво овог предмета и тиме се нећемо бавити у наставку.</p>
<h2 id="спајање-и-груписање">Спајање и груписање</h2>
<div class="question">
<p>Приказати просечне оцене из свих предмета из првог разреда.</p>
</div>
<p>Јасно је да је потребно извршити груписање оцена из табеле оцена на основу предмета (тј. њихових идентификатора) и затим израчунати статистику (аритметичку средину) за сваку групу посебно. Проблем је то што се захтева филтрирање предмета тако да се прикажу само просечне оцене за предмете из првог разреда, међутим, подаци о разреду у ком се предмет предаје се не налази у табели оцена, већ у табели предмета. Стога је пре класичног груписања и израчунавања статистика по групама потребно спојити табелу оцена и табелу предмета.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> naziv, <span class="fu">AVG</span>(ocena) <span class="kw">AS</span> prosek</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ocena</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> predmet <span class="kw">on</span> ocena.id_predmet <span class="op">=</span> predmet.<span class="kw">id</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> razred <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> predmet.<span class="kw">id</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>naziv</th>
<th>prosek</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Математика</td>
<td>3.6</td>
</tr>
<tr class="even">
<td>Рачунарство и информатика</td>
<td>4.5</td>
</tr>
<tr class="odd">
<td>Физика</td>
<td>3.0</td>
</tr>
</tbody>
</table>
<div class="question">
<p>Приказати просечне оцене из свих предмета (уређене опадајуће по просечној оцени).</p>
</div>
<p>Овај упит је сличан претходном. Када бисмо се задовољили приказом просечних оцена и идентификатора предмета, тада бисмо могли применити само груписање и израчунавање просека група из табеле са оценама. Међутим, пошто желимо да прикажемо називе предмета, а подаци о њима се налазе у табели предмета, вршимо спајање две табеле.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> naziv, <span class="fu">AVG</span>(ocena) <span class="kw">AS</span> prosek</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ocena</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> predmet <span class="kw">on</span> ocena.id_predmet <span class="op">=</span> predmet.<span class="kw">id</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> predmet.<span class="kw">id</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> prosek <span class="kw">DESC</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>naziv</th>
<th>prosek</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Рачунарство и информатика</td>
<td>4.5</td>
</tr>
<tr class="even">
<td>Математика</td>
<td>3.6</td>
</tr>
<tr class="odd">
<td>Физика</td>
<td>3.0</td>
</tr>
</tbody>
</table>
<p>Могуће је користити и клаузулу <code>HAVING</code> (подсетимо се, она служи за филтрирање након груписања на основу израчунатих вредности статистика група).</p>
<div class="question">
<p>Приказати називе предмета и просечне оцене на писменим задацима за све предмете код којих је просечна оцена на писменим задацима бар 3.50.</p>
</div>
<div class="sourceCode" id="cb79"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> naziv, <span class="fu">AVG</span>(ocena) <span class="kw">AS</span> prosek</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ocena</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> predmet <span class="kw">ON</span> ocena.id_predmet <span class="op">=</span> predmet.<span class="kw">id</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> ocena.vrsta <span class="op">=</span> <span class="st">&#39;писмени задатак&#39;</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> predmet.<span class="kw">id</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a><span class="kw">HAVING</span> prosek <span class="op">&gt;=</span> <span class="fl">3.50</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>naziv</th>
<th>prosek</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Математика</td>
<td>3.6</td>
</tr>
</tbody>
</table>
<h1 id="угнежђени-упити">Угнежђени упити</h1>
<p>Код сложенијих упита може бити корисно да се упит формира тако да се до резултата долази кроз неколико фаза. Свака фаза се формулише као нови <code>SELECT</code> упит који поред полазних табела може да користи и резултат упита из претходне фазе.</p>
<p>Прикажимо ово кроз неколико примера.</p>
<div class="question">
<p>Приказати највећи број остварених оправданих изостанака неког ученика.</p>
</div>
<p>У првој фази ћемо формулисати упит који за сваког ученика израчунава број оправданих изостанака. Ово је класичан упит у ком се врши груписање и израчунавање статистика (овај пут броја елемената сваке групе).</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">AS</span> broj</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> izostanak</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> status <span class="op">=</span> <span class="st">&#39;оправдан&#39;</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> id_ucenik</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>broj</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2</td>
</tr>
<tr class="even">
<td>1</td>
</tr>
</tbody>
</table>
<p>Коначан резултат можемо добити тако што из табеле која се добија као резултат претходног упита израчуна максимална вредност колоне <code>broj</code>. То се лако постиже коришћењем агрегатне функције <code>MAX</code>.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">MAX</span>(broj)</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">SELECT</span> <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">AS</span> broj</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>     <span class="kw">FROM</span> izostanak</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>     <span class="kw">WHERE</span> status <span class="op">=</span> <span class="st">&#39;оправдан&#39;</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>     <span class="kw">GROUP</span> <span class="kw">BY</span> id_ucenik);</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>MAX(broj)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2</td>
</tr>
</tbody>
</table>
<div class="question">
<p>Приказати просечне оцене свих предмета који се предају у првом разреду.</p>
</div>
<p>Овај задатак се може решити спајањем (и то је пожељно решење, поготово ако се жели приказ назива предмета). Могуће је и решење засновано на угнежђеним упитима тако што се у првој фази из табеле предмета издвоје идентификатори предмета који се предају у првом разреду, а онда се тај скуп идентификатора у другој фази употреби за издвајање одговарајућих оцена из табеле оцена, пре груписања и рачунања статистика по групама.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> id_predmet, <span class="fu">AVG</span>(ocena) <span class="kw">AS</span> prosek</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ocena</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> id_predmet <span class="kw">IN</span> (<span class="kw">SELECT</span> <span class="kw">id</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>                     <span class="kw">FROM</span> predmet</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>                     <span class="kw">WHERE</span> razred <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> id_predmet;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id_predmet</th>
<th>prosek</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>3.6</td>
</tr>
<tr class="even">
<td>3</td>
<td>4.5</td>
</tr>
<tr class="odd">
<td>6</td>
<td>3.0</td>
</tr>
</tbody>
</table>
<div class="question">
<p>Приказати називе предмета и просечне оцене на писменим задацима за све предмете код којих је просечна оцена на писменим задацима бар 3,50.</p>
</div>
<p>Када бисмо се задовољили само приказом идентификатора предмета, онда бисмо све могли да решимо упитом над табелом оцена, груписањем на основу идентификатора предмета, израчунавањем просека оцена за сваку групу и затим рестрикцијом на оне предмете код којих је просечна оцена већа од 3,5. Пошто су нам потребни називи предмета, можемо извршити спајање овако добијеног резултата упита са табелом предмета у којој се налазе идентификатори и називи предмета.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> naziv, prosek</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> predmet</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> (<span class="kw">SELECT</span> id_predmet, <span class="fu">AVG</span>(ocena) <span class="kw">AS</span> prosek</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>           <span class="kw">FROM</span> ocena</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>           <span class="kw">WHERE</span> ocena.vrsta <span class="op">=</span> <span class="st">&#39;писмени задатак&#39;</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>           <span class="kw">GROUP</span> <span class="kw">BY</span> id_predmet</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>           <span class="kw">HAVING</span> prosek <span class="op">&gt;=</span> <span class="fl">3.50</span>)</span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>       <span class="kw">ON</span> predmet.<span class="kw">id</span> <span class="op">=</span> id_predmet;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>naziv</th>
<th>prosek</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Математика</td>
<td>3.6</td>
</tr>
</tbody>
</table>
<div class="question">
<p>За свако одељење приказати највећи број оправданих изостанака.</p>
</div>
<p>У првој фази можемо изградити табелу која за сваког ученика садаржи идентификатор, разред и одељење и број оправданих изостанака. Пошто се разред и одељење налазе у табели ученика, а број изостанака се рачуна на основу података у табели изостанака, прво вршимо спајање те две табеле, вршимо рестрикцију само на оправдане изостанек, а након тога групишемо податке на основу идентификатора ученика и применом <code>COUNT(*)</code> одређујемо број оправданих изостанака.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ucenik.<span class="kw">id</span>, razred, odeljenje, <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">as</span> broj_opravdanih</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> izostanak</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">JOIN</span> ucenik <span class="kw">on</span> izostanak.id_ucenik <span class="op">=</span> ucenik.<span class="kw">id</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> status <span class="op">=</span> <span class="st">&#39;оправдан&#39;</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> ucenik.<span class="kw">id</span></span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>razred</th>
<th>odeljenje</th>
<th>broj_opravdanih</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="even">
<td>8</td>
<td>2</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Када је у првој фази одређена оваква помоћна табела, тада у другој фази лако можемо одредити максимални број оправданих изостанака за свако одељење (груписањем на основу разреда и одељења и применом агрегатне функције <code>MAX</code>).</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> razred, odeljenje, <span class="fu">MAX</span>(broj_opravdanih)</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> (<span class="kw">SELECT</span> ucenik.<span class="kw">id</span>, razred, odeljenje, <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">as</span> broj_opravdanih</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>      <span class="kw">FROM</span> izostanak</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>           <span class="kw">JOIN</span> ucenik <span class="kw">on</span> izostanak.id_ucenik <span class="op">=</span> ucenik.<span class="kw">id</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>      <span class="kw">WHERE</span> status <span class="op">=</span> <span class="st">&#39;оправдан&#39;</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>      <span class="kw">GROUP</span> <span class="kw">BY</span> ucenik.<span class="kw">id</span>)</span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> razred, odeljenje;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>razred</th>
<th>odeljenje</th>
<th>MAX(broj_opravdanih)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="even">
<td>2</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Приметимо да табела добијена као резултат угнежђеног подупита нема назив. Ако је потребно да јој дамо назив, то се може урадити навођењем <strong>алијаса</strong>, коришћењем кључне речи <code>AS</code> (у облику <code>FROM (SELECT ...) AS naziv</code>). Алијасе смо раније користили за именовање колона, док се овај пут именује табела.</p>
<p>Сви приказани угнежђени подупити до сада су били такви да се унутрашњи упит (тзв. подупит) може извршити независно од спољашњег. Међутим, SQL допушта и да се у унутрашњем упиту врши филтрирање на основу вредности наведене у спољашњем подупиту. У том случају кажемо да су упити <strong>корелисани</strong>.</p>
<div class="question">
<p>Приказати податке о изостанцима ученика који се зову Петар.</p>
</div>
<p>Овај упит се природно може написати коришћењем спајања табела ученика и изостанака. Ипак, приказаћемо решење које користи корелисани подупит. У спољашњем упиту читамо податке из табеле изостанака, а у подупиту читамо име ученика чији идентификатор одговара идентификатору у текућој врсти прочитаној из табеле изостанака и онда изостанке филтрирамо на основу тога да ли је тако добијено име једнако <code>Петар</code>.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> izostanak i</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> <span class="st">&#39;Петар&#39;</span> <span class="op">=</span> (<span class="kw">SELECT</span> ime</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>                 <span class="kw">FROM</span> ucenik u</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>                 <span class="kw">WHERE</span> u.<span class="kw">id</span> <span class="op">=</span> i.id_ucenik);</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>id_ucenik</th>
<th>datum</th>
<th>cas</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>2021-05-14</td>
<td>1</td>
<td>оправдан</td>
</tr>
<tr class="even">
<td>2</td>
<td>1</td>
<td>2021-05-14</td>
<td>2</td>
<td>неоправдан</td>
</tr>
<tr class="odd">
<td>3</td>
<td>4</td>
<td>2021-05-14</td>
<td>1</td>
<td>нерегулисан</td>
</tr>
<tr class="even">
<td>4</td>
<td>4</td>
<td>2021-05-14</td>
<td>2</td>
<td>нерегулисан</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<h1 id="провера-постојања-exists">Провера постојања (EXISTS)</h1>
<p>Некада желимо да издвојимо само оне врсте за које корелисани подупит враћа непразну (или празну) табелу тј. ако се утврди да постоји (или да не постоји) нека врста која задовољава услов корелисаног подупита. За то се може користити услов <code>EXISTS</code> (или <code>NOT EXISTS</code>, који је заправо само негација услова <code>EXISTS</code>).</p>
<div class="question">
<p>Приказати имена ученика који имају неоправдане изостанке.</p>
</div>
<div class="sourceCode" id="cb87"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, ime, prezime</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> <span class="kw">EXISTS</span> (<span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>              <span class="kw">FROM</span> izostanak</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>              <span class="kw">WHERE</span> izostanak.id_ucenik <span class="op">=</span> ucenik.<span class="kw">id</span> <span class="kw">AND</span> status <span class="op">=</span> <span class="st">&#39;неоправдан&#39;</span>);</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
</tr>
<tr class="even">
<td>6</td>
<td>Јован</td>
<td>Миленковић</td>
</tr>
</tbody>
</table>
<p>Наравно, постоје и други начини да се овај упит реализује. На пример, можемо спојити табелу ученика и табелу изостанака, груписати изостанке по свим ученицима, и приказати имена и презимена за сваку групу (приметимо да овде не примењујемо ни једну агрегатну функцију на формиране групе).</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ucenik.<span class="kw">id</span>, ime, prezime</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik <span class="kw">JOIN</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>     izostanak <span class="kw">on</span> izostanak.id_ucenik <span class="op">=</span> ucenik.<span class="kw">id</span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> status <span class="op">=</span> <span class="st">&#39;неоправдан&#39;</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> ucenik.<span class="kw">id</span>;</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
</tr>
<tr class="even">
<td>6</td>
<td>Јован</td>
<td>Миленковић</td>
</tr>
</tbody>
</table>
<p>У наредном проблему, можемо искористити услов непостојања <code>NOT EXISTS</code>.</p>
<div class="question">
<p>Приказати имена ученика који немају нерегулисаних изостанака.</p>
</div>
<div class="sourceCode" id="cb89"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, ime, prezime</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ucenik</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> (<span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>                  <span class="kw">FROM</span> izostanak</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>                  <span class="kw">WHERE</span> izostanak.id_ucenik <span class="op">=</span> ucenik.<span class="kw">id</span> <span class="kw">AND</span> status <span class="op">=</span> <span class="st">&#39;нерегулисан&#39;</span>);</span></code></pre></div>
<p>Извршавањем упита добија се следећи резултат</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>ime</th>
<th>prezime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Петар</td>
<td>Петровић</td>
</tr>
<tr class="even">
<td>2</td>
<td>Милица</td>
<td>Јовановић</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Лидија</td>
<td>Петровић</td>
</tr>
<tr class="even">
<td>5</td>
<td>Ана</td>
<td>Пекић</td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
</body>
</html>
